\documentclass{article}

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}
\usepackage{multirow}
\usepackage{multicol}
\usepackage[dvipsnames]{xcolor}
\usepackage{enumitem}
\usepackage{tcolorbox}
\usepackage{array}

\hypersetup{
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=red,          % color of internal links (change box color with linkbordercolor)
    citecolor=green,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=cyan           % color of external links
}

\newenvironment{myreq}[1]{%
\setlist[description]{font=\normalfont\color{darkgray}}%
\begin{tcolorbox}[colframe=black,colback=white, sharp corners, boxrule=1pt]%
\bfseries\color{blue}%
\begin{description}#1}%
{\end{description}\end{tcolorbox}}

\newcommand{\threeinline}[3]{\begin{multicols}{3}#1 #2 #3\end{multicols}}
\newcommand{\twoinline}[2]{\begin{multicols}{2}#1 #2\end{multicols}}

\newcommand{\reqno}{\item[Requirement \#:]}
\newcommand{\reqtype}{\item[Requirement Type:]}
\newcommand{\reqevent}{\item[Event/BUC/PUC \#:]}
\newcommand{\reqdesc}{\item[Description:]}
\newcommand{\reqrat}{\item[Rationale:]}
\newcommand{\reqorig}{\item[Originator:]}
\newcommand{\reqfit}{\item[Fit Criterion:]}
\newcommand{\reqsatis}{\item[Customer Satisfaction:]}
\newcommand{\reqdissat}{\item[Customer Dissatisfaction:]}
\newcommand{\reqdep}{\item[Dependencies:]}
\newcommand{\reqconf}{\item[Conflicts:]}
\newcommand{\reqmater}{\item[Materials:]}
\newcommand{\reqhist}{\item[History:]}

\title{Hazard Analysis\\\progname}

\author{\authname}

\date{}

\input{../Comments}
\input{../Common}

\begin{document}

\maketitle
\thispagestyle{empty}

~\newpage

\pagenumbering{roman}

\begin{table}[hp]
\caption{Revision History} \label{TblRevisionHistory}
\begin{tabularx}{\textwidth}{llX}
\toprule
\textbf{Date} & \textbf{Developer(s)} & \textbf{Change}\\
\midrule
Oct. 21, 2024 & NFI, JL, AV, CG & TA Feedback\\
Oct. 23, 2024 & NFI, JL, AV, CG & Rev0\\
... & ... & ...\\
\bottomrule
\end{tabularx}
\end{table}

~\newpage

\tableofcontents

~\newpage

\pagenumbering{arabic}

\section{Introduction}

Sandlot is intended to be the successor for the current McMaster GSA
softball league scheduling and management platform. This project
will implement the current functionality from the existing system including
additional features such as a new login system, commissioner admin
privileges, and an improvement to the robustness, ease of use, and
maintainability to the platform.

Hazards are conditions of the product system that could lead to undesirable outcomes. 
In Sandlot, hazards of security, malfunctions, usability, among others will be analyzed.

\section{Scope and Purpose of Hazard Analysis}

Hazard analysis aims to identify potential hazards that may exist with the product, 
understand their causes and effects, and provide proactive strategies to mitigate
them.
The purpose of this document is to perform this analysis for Sandlot, investigate potential
hazards and give means of mitigating the issues identified. 
Hazards to Sandlot could take the form of user interface misinterpretations, misinputted data,
and database errors, leading to possible malfunctions with the product and/or user 
dissatisfaction.
This document will first identify the system components and boundaries, state the critical
assumptions, use a Failure Mode and Effects Analysis (FMEA) table to identify the hazards
and their causes, effects, and mitigation strategies, and lastly the requirements that
are discovered from the analysis.

\section{System Boundaries and Components}

\wss{Dividing the system into components will help you brainstorm the hazards.
You shouldn't do a full design of the components, just get a feel for the major
ones.  For projects that involve hardware, the components will typically include
each individual piece of hardware.  If your software will have a database, or an
important library, these are also potential components.}

If you look at the samples, the components are where the hazards may come from.
I think you could probably think of it as what section of the product the hazard will come from.
Try using them to figure how to break Sandlot down into components.

\subsection{System Components}
The system can be divided into the following components:
\begin{itemize}
    \item Authentication
    \subitem This component authenticates user inputted login information with the database
    and determines whether a login is successful.
    \item Scheduling
    \subitem This component generates a schedule based on user inputted availability data. 
    Additionally, it allows for rescheduling events in these schedules after they 
    have been generated.
    \item Accounts
    \subitem This component allows users to create, delete or edit accounts. Additionally, account types 
    determine the ways in which a user can interact with the system, its data, and its components.
    \item Team Structure
    \subitem This component is a data structure of the system which allows accounts to be grouped together 
    such that a group of accounts interact with the system, its data, and its components in the same way as 
    each other. Additionally, accounts can be added/removed from teams, users can request to join a 
    certain team, and teams can be created/deleted.
    \item Scoring/Standings
    \subitem This component allows users to input score data associated with specific events and will 
    generate cumulative standings based on score data.
    \item Alerts
    \subitem This component alerts users of important information related to the system.
    \item Database
    \subitem This component stores the system's data.
    \item User Interface
    \subitem This component displays the system's data to the user.
\end{itemize}

\subsection{System Boundaries}
server

\section{Critical Assumptions}

\wss{These assumptions that are made about the software or system.  You should
minimize the number of assumptions that remove potential hazards.  For instance,
you could assume a part will never fail, but it is generally better to include
this potential failure mode.}



\section{Failure Mode and Effect Analysis}

\wss{Include your FMEA table here. This is the most important part of this document.}
\wss{The safety requirements in the table do not have to have the prefix SR.
The most important thing is to show traceability to your SRS. You might trace to
requirements you have already written, or you might need to add new
requirements.}
\wss{If no safety requirement can be devised, other mitigation strategies can be
entered in the table, including strategies involving providing additional
documentation, and/or test cases.}\\


\hspace*{-3.25cm}
\begin{tabularx}{504pt}{|p{2cm}||p{3cm}|p{3cm}|p{3cm}|p{1cm}|p{3cm}|}
\hline
\textbf{Component} & \textbf{Failure Mode} & \textbf{Failure Effect} & \textbf{Failure Cause} & \textbf{SR} & \textbf{Recommended Actions}\\
\hline
\multirow{2}{2cm}{Example row} & Column 1 & Column 2 & e & e & e\\
\cline{2-6}
& Failure Mode & Failure Effect & Failure Cause & RPN & Recommended Actions\\
\hline
\multirow{2}{2cm}{Authentication} & User login information does not match database stored
login information. & User cannot access their account. & Misinputted user login information.
& RPN & Misinputted user login information should give a warning to the user when
login information does not exist or is incorrect.\\
\cline{2-6}
\hline
\multirow{2}{2cm}{Scheduling} & Captain inputs incorrect availability dates at
start of season & Schedule is generated incorrectly. & Captain's user error. &
RPN & Allow captain to resubmit availability that overwrites previously
submitted availability if submitted before the due date.\\
\cline{2-6}
& User reads schedule incorrectly. & User may not attend a game by accident or
travel to a game at the wrong time. & Schedule is unclear, unreadable, or user
makes an error. & 22 & Ensure schedule data and structure is visible and
readable.\\
\cline{2-6}
& Teams availability data have scheduling conflicts. & System cannot make a
valid schedule. & Availability data has scheduling conflicts. & RPN & Teams
will be given a warning if their availability data has scheduling conflicts.\\
\hline
\multirow{2}{2cm}{Teams} & User is assigned to or joins the wrong team. & User
will be shown the wrong schedule and team information. & Interface inputs are
unclear or user makes an error. & 17 & Ensure that when assigning a team for a
user, the team options to select from are clear and the input section is
readable.\\
\hline
\multirow{2}{2cm}{Accounts} & Account is given the wrong permissions. & User 
has access to actions they shouldn't use. & Interface lacks security or user
makes an error. & RPN & Giving an account additional permissions should give
a warning to the user when configuring accounts.\\
\cline{2-6}
& All commissioner level accounts are deleted. & There are no accounts left
that can give commissioner level permissions. & System allows for all
commissioner accounts to be deleted. & RPN & Do not let users delete a
commissioner account if there is only one left.\\
\hline
\multirow{3}{2cm}{Scoring/ Standings} & Captain inputs the wrong score. &
Standings and database has incorrect scores. & User inputs the wrong score. &
RPN & Allow both captains to input a score, if there is a mismatch, a
commissioner is notified to resolve the issue.\\
\cline{2-6}
\hline
\end{tabularx}



\section{Safety and Security Requirements}

\wss{Newly discovered requirements.  These should also be added to the SRS.  (A
rationale design process how and why to fake it.)}

\begin{myreq}
    \threeinline
      {\reqno xx}
      {\reqtype 0}
      {\reqevent xx}
    \reqdesc If the season start availability due date hasn't been reached, a
    captain should be able to resubmit availability data which overwrites
    previous availability data.
    \reqrat If the captain makes an error when submitting availability data
    they should be able to fix their error.
    \reqorig Alex Verity
    \reqfit If the captain has submitted data, they shall be able to overwrite
    it with new data.
    \twoinline
      {\reqsatis 4}
      {\reqdissat 3}
    \twoinline
    {\reqdep None}
    {\reqconf None}
    \reqmater None
    \reqhist Created 2024-10-15
\end{myreq}

\begin{myreq}
    \threeinline
      {\reqno xx}
      {\reqtype 0}
      {\reqevent xx}
    \reqdesc Giving permissions to users must be accompanied by an error that
    warns the user of the severity of the action.
    \reqrat Accidentally giving permissions to users who shouldn't have them
    could result in unexpected errors.
    \reqorig Alex Verity
    \reqfit If permissions are being changed, a warning shall be displayed to
    the user before updating the permissions.
    \twoinline
      {\reqsatis 5}
      {\reqdissat 5}
    \twoinline
    {\reqdep None}
    {\reqconf None}
    \reqmater None
    \reqhist Created 2024-10-15
\end{myreq}

\begin{myreq}
    \threeinline
      {\reqno xx}
      {\reqtype 0}
      {\reqevent xx}
    \reqdesc If there is only one commissioner level account, that account
    cannot be deleted.
    \reqrat Deleting this account would stop any more commissioner level
    accounts from being created, softlocking the system.
    \reqorig Alex Verity
    \reqfit If there is only one commissioner level account it shall not be
    deleted.
    \twoinline
      {\reqsatis 3}
      {\reqdissat 3}
    \twoinline
    {\reqdep None}
    {\reqconf None}
    \reqmater None
    \reqhist Created 2024-10-15
\end{myreq}

\section{Roadmap}

\wss{Which safety requirements will be implemented as part of the capstone timeline?
Which requirements will be implemented in the future?}

\newpage{}

\section*{Appendix --- Reflection}

\wss{Not required for CAS 741}

\input{../Reflection.tex}

\begin{enumerate}
    \item What went well while writing this deliverable? 
    \item What pain points did you experience during this deliverable, and how
    did you resolve them?
    \item Which of your listed risks had your team thought of before this
    deliverable, and which did you think of while doing this deliverable? For
    the latter ones (ones you thought of while doing the Hazard Analysis), how
    did they come about?
    \item Other than the risk of physical harm (some projects may not have any
    appreciable risks of this form), list at least 2 other types of risk in
    software products. Why are they important to consider?
\end{enumerate}

\end{document}